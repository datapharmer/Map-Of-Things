<template>
    <lightning-card>
        <!-- UI for Shapefile Controls -->
        <div class="controls">
            <lightning-input 
                label="Shapefile Resource Name" 
                type="text" 
                onchange={handleShapefileResourceNameChange}>
            </lightning-input>
            <lightning-input 
                label="Shapefile Color" 
                type="text" 
                placeholder="e.g., #ff0000 or leave empty for random" 
                onchange={handleShapefileColorChange}>
            </lightning-input>
            <lightning-button 
                label="Update Shapefile" 
                onclick={applyShapefileUpdate}>
            </lightning-button>
        </div>
        <!-- Leaflet Map -->
        <c-map-of-things-map 
            oninit={initedMap}
            tile-server-url={tileServerUrl}
            tile-server-attribution={tileServerAttribution}
            map-default-position={mapDefaultPosition}
            map-default-zoom-level={mapDefaultZoomLevel}
            map-size-y={mapSizeY}
            auto-fit-bounds={autoFitBounds}
            markers={markers}
            shapefile-resource-name={shapefileResourceName}
            shapefile-color={shapefileColor}>
        ></c-map-of-things-map>    
        <!--/ Leaflet Map -->

        <!-- Leaflet Marker Objects -->
        <c-map-of-things-markers
            map={map}
            markers={markers}
            move-duration={moveDuration}
            marker-rotate={normalizedMarkerRotate}
            icon-size-x={iconSizeX}
            icon-size-y={iconSizeY}
            use-custom-marker={useCustomMarker}
            use-grouping={useGrouping}
            marker-zoom-with-map={markerZoomWithMap}
        ></c-map-of-things-markers>
        <!--/ Leaflet Marker Objects -->
    </lightning-card>
</template>
